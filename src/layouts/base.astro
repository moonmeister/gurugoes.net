---
interface Props {
	currentUri: string;
}

import { Header, QUERY as HEADER_QUERY } from "../components/header.jsx";
import { Footer } from "../components/footer.jsx";
import { client } from "../lib/client";
import "../styles/global.css";

const headerResults = await client.query(HEADER_QUERY, {});

const { currentUri } = Astro.props;
---

<!doctype html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="generator" content={Astro.generator} />
		<link
			rel="stylesheet preload"
			href="https://rsms.me/inter/inter.css"
		/><link
			rel="stylesheet preload"
			href="https://rsms.me/inter/inter.css"
		/><title>GuruGoes</title></head
	>
</html>
<body>
	<div class="grid auto-cols-auto grid-cols-1">
		<header class="row-start-1 row-end-2 col-start-1 col-end-2 z-10 p-4">
			<Header
				client:load
				categories={headerResults.data?.categories?.nodes}
				currentPage={currentUri}
			/>
		</header>
		<div class="row-start-1 row-end-3 col-start-1 col-end-2">
			<div class="relative bg-green-100 overflow-hidden">
				<div class="relative pt-6 pb-16 sm:pb-24">
					<main class="mt-16 mx-auto max-w-7xl px-4 sm:mt-24">
						<slot />
					</main>
				</div>
			</div>
		</div>
		<footer class="row-start-3 row-end-4 col-start-1 col-end-2">
			<Footer />
		</footer>
	</div>
</body>
